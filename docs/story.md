
# 说明
   本文档描述用去中心化的形式实现算力使用权通证创建、添加到市场交易、购买使用权通证并获取算力资源及验证算力资源算力的过程。

# 业务场景
   描述分布式算力典型场景及流程

## 创建使用权通证
    操作：利用合约创建使用权通证及收益权通证
    结果：
       1. 创建使用权通证(URTID1)及资源信息(通证持有者确定)
       2. 创建收益权通证(收益权益值为算力资源对应的值，参照算力类型权益值对照表), 收益权分配信息确定(账户A1，账户A2获取指定收益权益值)
       3. 收益权所有者收益权益值变更(收益权持有者A1， 收益权持有者A2)
       4. 总收益权益值增加（增加值等于新创建的的收益权的总值）

## 分账-1(演示目的：创建收益权通证即可参与分账)
    操作：特定账户触发分账
    结果：
       1. 如果资金池中已有资金，则收益权持有者A1、A2获取相应的收益, 账户资金变动。
       2. 如果资金池中没有资金，则A1、A2没有收益，账户资金不变.
  *收益 = (资金池总资金 x 账户持有收益权益量) / 总权益量*

## 使用权通证登录市场
    操作：使用权通证持有者首次将使用权通证URTID1登录市场, 指定价格
    结果：
       1. 市场显示使用权通证URTID1信息

## 账户A3购买使用权通证URTID1
    操作：账户A3购买指定使用权通证
    结果：
       1. 账户A3账户资金减少(减少数量为购买的使用权通证显示的价格)
       2. 账户A3变为使用权通证URTID1的拥有者
       3. 资金池中增加资金（资金值为URTID1的出售价格）

## 账户A3对使用权通证URTID1对应的算力进行算力证明
    操作：账户A3发起对URTID1的算力证明
    结果：
       1. 算力资源服务执行算力证明任务，并将结果在链上记录
       2. 证明结束，获取算力信息

## 分账-2
    操作：特定账户触发分账
    结果：
       1.收益权持有者A1获取收益, 账户资金变动。
       2.收益权持有者A2获取收益, 账户资金变动。
       
   *收益 = (资金池总资金 x 账户持有收益权益量) / 总权益量*

## 账户A1出售持有的收益权通证RTID1
    操作：将RTID1登录到市场
    结果：
       1. A1仍然持有RTID1
       2. 市场信息中新增RTID1及价格

## 账户A3购买收益权通证RTID1
    操作： 账户A3发起购买RTID1操作
    结果： 
       1. 账户A3中资金减少（与RTID1的价格相同）
       2. 账户A1中资金增加（与RTID1的价格相同）
       3. 资金池中资金不变。
       4. 账户A3中收益权益值增加（与RTID1对应的权益值相同）
       4. 账户A1中收益权益值减少（与RTID1对应的权益值相同）

## 账户A3设定为URTID1自动续费
    操作：账户A3发起自动续费操作
    结果：
       1. 市场合约获取对账户A3的转账权限
       2. 转账时间受限
       3. 转账金额受限

## 自动扣费(使用权通证URTID1即将到期)
    操作：特定账户触发自动扣费
    结果：
       1. 使用权通证URTID1的持有者资金减少(与RTID1的价格相同)
       2. 资金池中资金增加(与RTID1的价格相同)
       3. 使用权通证URTID1的有效期延迟一定时间（与销售时指定的一个费用周期）

## 分账-3
    操作：特定账户触发分账
    结果：
       1.收益权持有者A1获取收益(不包含RTID1对应的收益权益值部分), 账户资金变动。
       2.收益权持有者A2获取收益, 账户资金变动。
       3.收益权持有者A3获取收益(包含RTID1对应的收益权益值部分), 账户资金变动。
       
   *收益 = (资金池总资金 * 账户持有收益权益量) / 总权益量*

## 账户A3取消为URTID1自动续费
    操作：账户A3发起取消自动续费操作
    结果：
       1. 市场合约失去对账户A3的转账权限

## 账户A3手动为URTID1续费
    操作：账户A3发起续费操作
    结果：
       1. 使用权通证URTID1的持有者资金减少(与RTID1的价格相同)
       2. 资金池中资金增加(与RTID1的价格相同)
       3. 使用权通证URTID1的有效期延迟一定时间（与销售时指定的一个费用周期）

## 分账-3
    操作：特定账户触发分账
    结果：
       1.收益权持有者A1获取收益(不包含RTID1对应的收益权益值部分), 账户资金变动。
       2.收益权持有者A2获取收益, 账户资金变动。
       3.收益权持有者A3获取收益(包含RTID1对应的收益权益值部分), 账户资金变动。
       
   *收益 = (资金池总资金 * 账户持有收益权益量) / 总权益量*
   
---

# 相关内容说明

## 去中心化DAO组织建设
   目前未实现相应工具，后期实现
   角色说明：
      * 算力提供者：提供算力资源，创建算力使用权通证和收益权通证
      * 算力使用者：购买算力使用权通证从而获取算力资源使用权限
      * 收益权持有者：持有收益权持的账户获取算力使用权收益的分成权限
      * 收益权交易者：买卖收益权的账户

## DAO组织权限及任务
   * 完成合约部署及更新
   * 初始化市场支持的算力资源类型
   * 设置不同算力类型执行算力证明时对应的证明参数(难度)
   * 管理组织中用户及权限设置

   展示： 算力资源类型、 证明参数、类型收益权值列表


## GPU类型(算力类型之一）
    GPU类型指分布式算力中支持的具体GPU型号，此信息由DAO组织中相关参与者共同决定。

   ![GPU资源列表](./images/show_gpus.png)

 
## 证明参数信息
    证明参数信息指分布式算力中，不同类型算力资源做证明时对应的证明参数，
    此参数应由DAO组织中相关参与者共同决定，并在链上存储，执行证明时自动获取。
    证明参数智能添加，不能修改。

   ![证明参数](./images/show_proof_parameters.png)

## 算力类型权益值
    算力类型权益值指分布式算力中，不同类型算力资源在市场上创建收益权时可生成的收益权值，
    不同类型对应不同权益值，此参数应由DAO组织中相关参与者共同决定，并在链上存储，创建收益权时自动获取。
    权益值可变更。

   ![算力类型权益值](./images/show_type_revenue.png)

